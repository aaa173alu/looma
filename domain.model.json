{
  "name": "tiendaonline-zapatos",
  "version": "2.0.0",
  "lastUpdated": "2025-12-16",
  "generatedFrom": "ApplicationCore.Domain.EN",
  "enums": {
    "EstadoPedido": ["carrito", "realizado", "comprado", "rechazado", "recibido", "validado"]
  },
  "entities": [
    {
      "name": "Usuario",
      "attributes": {
        "id": {"type": "long"},
        "nombre": {"type": "string"},
        "email": {"type": "string"},
        "contrasenya": {"type": "string"},
        "telefono": {"type": "string", "nullable": true},
        "direccion": {"type": "string", "nullable": true},
        "rol": {"type": "string", "nullable": true},
        "nombreEnvio": {"type": "string", "nullable": true},
        "direccionEnvio": {"type": "string", "nullable": true},
        "ciudadEnvio": {"type": "string", "nullable": true},
        "cpEnvio": {"type": "string", "nullable": true},
        "telefonoEnvio": {"type": "string", "nullable": true}
      }
    },
    {
      "name": "Producto",
      "attributes": {
        "id": {"type": "long"},
        "nombre": {"type": "string"},
        "descripcion": {"type": "string", "nullable": true},
        "precio": {"type": "decimal"},
        "tallasDisponibles": {"type": "array", "items": {"type": "string"}},
        "fotos": {"type": "array", "items": {"type": "string"}, "nullable": true},
        "stock": {"type": "integer"},
        "destacado": {"type": "boolean"},
        "color": {"type": "string", "nullable": true}
      }
    },
    {
      "name": "ItemPedido",
      "attributes": {
        "id": {"type": "long"},
        "productoId": {"type": "long"},
        "cantidad": {"type": "integer"},
        "talla": {"type": "string", "nullable": true}
      }
    },
    {
      "name": "Pedido",
      "attributes": {
        "id": {"type": "long"},
        "fecha": {"type": "string", "format": "date-time"},
        "total": {"type": "decimal"},
        "direccionEnvio": {"type": "string"},
        "estado": {"type": "string", "enum": "EstadoPedido"},
        "usuarioId": {"type": "long"},
        "items": {"type": "array", "items": {"type": "ItemPedido"}}
      }
    },
    {
      "name": "Ajustes",
      "attributes": {
        "id": {"type": "long"},
        "tema": {"type": "string"},
        "notificaciones": {"type": "boolean"},
        "usuarioId": {"type": "long"}
      }
    },
    {
      "name": "Favoritos",
      "attributes": {
        "id": {"type": "long"},
        "fechaCreacion": {"type": "string", "format": "date-time"},
        "usuarioId": {"type": "long"},
        "productoId": {"type": "long"}
      }
    },
    {
      "name": "Valoracion",
      "attributes": {
        "id": {"type": "long"},
        "valor": {"type": "integer"},
        "comentario": {"type": "string", "nullable": true},
        "usuarioId": {"type": "long"},
        "productoId": {"type": "long"}
      }
    },
    {
      "name": "Sesion",
      "attributes": {
        "id": {"type": "long"},
        "fechaInicio": {"type": "string", "format": "date-time"},
        "fechaFin": {"type": "string", "format": "date-time", "nullable": true},
        "activa": {"type": "boolean"},
        "usuarioId": {"type": "long"}
      }
    },
    {
      "name": "Categoria",
      "attributes": {
        "id": {"type": "long"},
        "nombre": {"type": "string"}
      }
    },
    {
      "name": "Tarjeta",
      "attributes": {
        "id": {"type": "long"},
        "usuario": {"type": "reference", "entity": "Usuario"},
        "marca": {"type": "string"},
        "numeroEnmascarado": {"type": "string"},
        "ultimos4": {"type": "string"},
        "mesExp": {"type": "integer"},
        "anioExp": {"type": "integer"},
        "nombreTitular": {"type": "string"},
        "esPredeterminada": {"type": "boolean"},
        "fechaAlta": {"type": "string", "format": "date-time"},
        "usuarioId": {"type": "long"}
      }
    },
    {
      "name": "Carrito",
      "attributes": {
        "id": {"type": "long"},
        "total": {"type": "decimal"},
        "fechaCreacion": {"type": "string", "format": "date-time"},
        "usuarioId": {"type": "long"},
        "items": {"type": "array", "items": {"type": "ItemPedido"}}
      }
    },
    {
      "name": "Perfil",
      "attributes": {
        "id": {"type": "long"},
        "nombre": {"type": "string"},
        "email": {"type": "string"},
        "contrasenya": {"type": "string"},
        "telefono": {"type": "string", "nullable": true},
        "usuarioId": {"type": "long"}
      }
    },
    {
      "name": "Pago",
      "attributes": {
        "id": {"type": "long"},
        "metodoPago": {"type": "string"},
        "fechaPago": {"type": "string", "format": "date-time"},
        "monto": {"type": "decimal"},
        "pedidoId": {"type": "long", "nullable": true}
      }
    },
    {
      "name": "Ayuda",
      "attributes": {
        "id": {"type": "long"},
        "pregunta": {"type": "string"},
        "respuesta": {"type": "string", "nullable": true},
        "usuarioId": {"type": "long"}
      }
    }
  ],
  "relationships": [
    {"from":"Valoracion","to":"Usuario","multiplicity":"*->1","name":"valora"},
    {"from":"Valoracion","to":"Producto","multiplicity":"*->1","name":"valorado"},
    {"from":"Usuario","to":"Favoritos","multiplicity":"1->*","name":"gestiona"},
    {"from":"ItemPedido","to":"Producto","multiplicity":"*->1","name":"referencia"},
    {"from":"Usuario","to":"Pedido","multiplicity":"1->*","name":"realiza"},
    {"from":"Pedido","to":"ItemPedido","multiplicity":"1*->*","name":"incluye"}
  ]
}
